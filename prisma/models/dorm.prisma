enum CheckRequestType {
  SINGLE_EXIT
  DOUBLE_EXIT
  MAINTENANCE
}

enum CheckRequestStatus {
  PASS
  FIRST_CHECK
  SECOND_CHECK
  THIRD_CHECK
  FAIL
}

model CheckRequest {
  id        Int                @id @default(autoincrement())
  user      User               @relation(fields: [userId], references: [id])
  userId    Int
  createdAt DateTime           @default(now())
  updatedAt DateTime           @updatedAt
  dorm      String
  notes     String?
  type      CheckRequestType
  status    CheckRequestStatus @default(FIRST_CHECK)
  checkAt   DateTime

  @@index([userId, checkAt])
  @@index([dorm, checkAt])
}

model StorageRequest {
  id        Int      @id @default(autoincrement())
  user      User     @relation(fields: [userId], references: [id])
  userId    Int
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  storage   String
  items     String
  isStored  Boolean  @default(false)
  storeAt   DateTime

  @@index([userId, storeAt])
  @@index([storage, storeAt])
}
